{"mappings":"kBAEMA,EAAOC,SAASC,cAAc,mBAE9BC,GADeF,SAASC,cAAc,iBACxBD,SAASC,cAAc,iBAE3C,SAAAE,EAAqBC,GACjBC,QAAQC,IAAI,0BACZD,QAAQC,IAAIF,GA0ChBL,EAAKQ,iBAAiB,UA1BtBC,eAA4BC,GACxBA,EAAMC,uBACAC,EAAYX,SAASC,cAAc,gBAAgBW,MACzDP,QAAQC,IAAAA,+BAAmCK,QAI/CH,eAA+BK,GAC3Bd,EAAKe,OAAOC,UAAW,QACjBC,QAtBVR,eAA0BK,SAChBI,QAAiBC,MAAAA,8DAAoBL,kBAAM,CAC7CM,OAAU,MACVC,QAAA,CACIC,iBAfNC,qDAgBMC,kBAAmB,wDAGRN,EAASO,OAC3BC,MAAMtB,GAaauB,CAAWb,GAC/Bd,EAAKe,OAAOC,UAAW,EAK3B,SAAyBC,SACfW,EAAqB,8DACrBC,EAAOZ,EAAMa,KACfb,GAAAA,6CACgBW,IAAqBX,EAAMc,oBAAoBd,EAAMe,2CAGrE7B,EAAY8B,UAAYJ,EAAKK,KAAK,IAXtCC,CAAgBlB,GAChBX,QAAQC,IAAIU,GARZmB,CAAgBxB","sources":["./script.js"],"sourcesContent":["const apiKey = process.env.API_KEY;\r\nconst endpoint = 'https://omgvamp-hearthstone-v1.p.rapidapi.com/cards/search/'\r\nconst form = document.querySelector('form.cardSearch');\r\nconst submitButton = document.querySelector('.searchSubmit');\r\nconst cardDisplay = document.querySelector('.cardDisplay');\r\n\r\nfunction handleError(err) { // Error handling\r\n    console.log('Something went wrong!!');\r\n    console.log(err);\r\n}\r\n\r\nasync function fetchCards(query) {\r\n    const response = await fetch(`${endpoint}${query}?collectible=1`, {\r\n        \"method\": \"GET\",\r\n        \"headers\": {\r\n            \"x-rapidapi-key\": apiKey,\r\n            \"x-rapidapi-host\": \"omgvamp-hearthstone-v1.p.rapidapi.com\"\r\n        }\r\n    });\r\n    const data = await response.json()\r\n    .catch(handleError);\r\n    return data;\r\n}\r\n\r\nasync function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const formInput = document.querySelector('.searchInput').value;\r\n    console.log(`Looking for cards including ${formInput}...`);\r\n    fetchAndDisplay(formInput);\r\n}\r\n\r\nasync function fetchAndDisplay(query) {\r\n    form.submit.disabled = true;\r\n    const cards = await fetchCards(query);\r\n    form.submit.disabled = false;\r\n    displayCardInfo(cards);\r\n    console.log(cards)\r\n}\r\n\r\nfunction displayCardInfo(cards) {\r\n    const cardImageURLPrefix = 'https://art.hearthstonejson.com/v1/render/latest/enUS/512x/';\r\n    const html = cards.map(\r\n        cards => `<div class=\"card\">\r\n            <img src=\"${cardImageURLPrefix}${cards.cardId}.png\" alt=\"${cards.name}\" class=\"cardImg\">\r\n        </div>`\r\n        );\r\n        cardDisplay.innerHTML = html.join('');\r\n}\r\n  \r\n\r\nform.addEventListener('submit', handleSubmit);"],"names":["$5db1129210b0cec0388847f45580f718$var$form","document","querySelector","$5db1129210b0cec0388847f45580f718$var$cardDisplay","$5db1129210b0cec0388847f45580f718$var$handleError","err","console","log","addEventListener","async","event","preventDefault","formInput","value","query","submit","disabled","cards","response","fetch","method","headers","x-rapidapi-key","$5db1129210b0cec0388847f45580f718$var$apiKey","x-rapidapi-host","json","catch","$5db1129210b0cec0388847f45580f718$var$fetchCards","cardImageURLPrefix","html","map","cardId","name","innerHTML","join","$5db1129210b0cec0388847f45580f718$var$displayCardInfo","$5db1129210b0cec0388847f45580f718$var$fetchAndDisplay"],"version":3,"file":"index.a66b7123.js.map"}